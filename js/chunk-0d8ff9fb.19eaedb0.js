(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d8ff9fb"],{"0b42":function(t,e,c){var a=c("861d"),r=c("e8b5"),s=c("b622"),n=s("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)?a(e)&&(e=e[n],null===e&&(e=void 0)):e=void 0),void 0===e?Array:e}},"1a05":function(t,e,c){"use strict";var a=c("7a23"),r={class:"header py-4"},s={class:"position-relative m-4"},n=Object(a["h"])("div",{class:"progress",style:{height:"1px"}},[Object(a["h"])("div",{class:"progress-bar",role:"progressbar",style:{width:"100%"},"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"})],-1),i={class:"position-absolute top-0 start-50 bg-white px-3 translate-middle text-nowrap"};function o(t,e,c,o,l,b){return Object(a["z"])(),Object(a["g"])("div",r,[Object(a["h"])("div",s,[n,Object(a["h"])("h1",i,Object(a["L"])(c.title),1)])])}var l={name:"Header",props:{title:{type:String,required:!0}}};l.render=o;e["a"]=l},"1dde":function(t,e,c){var a=c("d039"),r=c("b622"),s=c("2d00"),n=r("species");t.exports=function(t){return s>=51||!a((function(){var e=[],c=e.constructor={};return c[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4b24":function(t,e,c){"use strict";c.r(e);c("b0c0");var a=c("7a23");Object(a["C"])("data-v-4470c424");var r={class:"container"},s={class:"row pb-7"},n={class:"col-lg-6"},i=Object(a["h"])("h2",{class:"text-center"},"訂單內容",-1),o={class:"d-flex justify-content-center mt-1"},l={class:"table align-middle table-fit"},b=Object(a["h"])("thead",null,[Object(a["h"])("tr",null,[Object(a["h"])("th",{scope:"col"},"商品"),Object(a["h"])("th",{scope:"col"},"單價"),Object(a["h"])("th",{scope:"col",class:"text-nowrap"},"數量")])],-1),d={class:"num"},u={class:"num"},h={class:"no-border",colspan:"4"},j={class:"text-end"},p=Object(a["j"])(" 總金額："),O={class:"num"},f=Object(a["j"])(" 元 "),v=Object(a["h"])("tr",null,[Object(a["h"])("td",{class:"no-border",colspan:"3"})],-1),m={class:"col-lg-6"},g=Object(a["h"])("h2",{class:"text-center"},"訂購人資料",-1),y={class:"order-detail list-group list-group-flush mx-auto"},x={class:"list-group-item"},w=Object(a["h"])("span",{class:"fw-bold"},"姓名：",-1),L={class:"list-group-item"},_=Object(a["h"])("span",{class:"fw-bold"},"電話：",-1),I={class:"list-group-item"},k=Object(a["h"])("span",{class:"fw-bold"},"地址：",-1),A={class:"list-group-item"},T=Object(a["h"])("span",{class:"fw-bold"},"Email：",-1),C={class:"list-group-item"},D=Object(a["h"])("span",{class:"fw-bold"},"備註：",-1),S={class:"list-group-item"},z=Object(a["h"])("span",{class:"fw-bold"},"付款方式：",-1),F={class:"list-group-item"},E=Object(a["j"])(" 狀態："),H=Object(a["h"])("span",{class:"text-danger"},"未付款",-1),M=[E,H],P=Object(a["j"])(" 狀態： "),X=Object(a["h"])("span",{class:"text-success"},"付款成功！",-1),q={class:"text-secondary"},J={class:"list-group-item"},B={class:"text-end"},G=Object(a["h"])("i",{class:"bi bi-check"},null,-1),N=Object(a["j"])(" 確認付款 "),Y=[G,N];function $(t,e,c,E,H,G){var N=Object(a["I"])("Loading"),$=Object(a["I"])("CenteredHeader");return Object(a["z"])(),Object(a["g"])("div",null,[Object(a["k"])(N,{active:H.isLoading},null,8,["active"]),Object(a["h"])("div",r,[Object(a["k"])($,{title:"付款"}),Object(a["h"])("div",s,[Object(a["h"])("div",n,[i,Object(a["h"])("div",o,[Object(a["h"])("table",l,[b,Object(a["h"])("tbody",null,[(Object(a["z"])(!0),Object(a["g"])(a["a"],null,Object(a["G"])(H.orderItems,(function(t){return Object(a["z"])(),Object(a["g"])("tr",{key:t.id},[Object(a["h"])("td",null,Object(a["L"])(t.product.title),1),Object(a["h"])("td",d,Object(a["L"])(t.product.price.toLocaleString()),1),Object(a["h"])("td",u,Object(a["L"])(t.qty),1)])})),128)),Object(a["h"])("tr",null,[Object(a["h"])("td",h,[Object(a["h"])("h3",j,[p,Object(a["h"])("span",O,"NT "+Object(a["L"])(H.total.toLocaleString()),1),f])])]),v])])])]),Object(a["h"])("div",m,[g,Object(a["h"])("ul",y,[Object(a["h"])("li",x,[w,Object(a["j"])(" "+Object(a["L"])(H.user.name),1)]),Object(a["h"])("li",L,[_,Object(a["j"])(" "+Object(a["L"])(H.user.tel),1)]),Object(a["h"])("li",I,[k,Object(a["j"])(" "+Object(a["L"])(H.user.address),1)]),Object(a["h"])("li",A,[T,Object(a["j"])(" "+Object(a["L"])(H.user.email),1)]),Object(a["h"])("li",C,[D,Object(a["j"])(" "+Object(a["L"])(H.user.message),1)]),Object(a["h"])("li",S,[z,Object(a["j"])(Object(a["L"])(H.payment_method),1)]),Object(a["h"])("li",F,[Object(a["X"])(Object(a["h"])("div",null,M,512),[[a["T"],!this.is_paid]]),Object(a["X"])(Object(a["h"])("div",null,[P,X,Object(a["h"])("span",q,"已於"+Object(a["L"])(G.getFormDate(H.paid_date))+"完成付款",1)],512),[[a["T"],this.is_paid]])]),Object(a["X"])(Object(a["h"])("li",J,[Object(a["h"])("div",B,[Object(a["h"])("button",{type:"button",onClick:e[0]||(e[0]=function(t){return G.submitPayment()}),class:"btn btn-primary"},Y)])],512),[[a["T"],!this.is_paid]])])])])])])}Object(a["A"])();c("99af");var K=c("62c7"),Q=c("1a05"),R={name:"Payment",components:{CenteredHeader:Q["a"]},data:function(){return{isLoading:!1,orderId:"",orderItems:[],user:{},total:0,payment_method:"",is_paid:!1,paid_date:""}},methods:{getOrder:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("data-api","/order/").concat(this.orderId);this.axios.get(e).then((function(e){if(e.data.success){var c=e.data.order,a=c.user;t.orderItems=c.products,t.total=c.total,t.is_paid=c.is_paid,t.paid_date=c.paid_date,t.user=a,t.payment_method=a.payment_method}t.isLoading=!1}))},submitPayment:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("data-api","/pay/").concat(this.orderId);this.axios.post(e).then((function(e){e.data.success&&t.getOrder(),t.isLoading=!1}))},getFormDate:K["a"]},mounted:function(){this.orderId=this.$route.params.orderId,this.getOrder()}};c("7e08");R.render=$,R.__scopeId="data-v-4470c424";e["default"]=R},"62c7":function(t,e,c){"use strict";c.d(e,"a",(function(){return a})),c.d(e,"b",(function(){return r}));c("99af");function a(t){var e=new Date(1e3*t),c=e.getFullYear(),a=e.getMonth()+1;a<=9&&(a="0"+a);var r=e.getDate();return r<=9&&(r="0"+r),"".concat(c,"-").concat(a,"-").concat(r)}function r(t){return Math.floor(new Date(t)/1e3)}},"65f0":function(t,e,c){var a=c("0b42");t.exports=function(t,e){return new(a(t))(0===e?0:e)}},"7e08":function(t,e,c){"use strict";c("dcdc")},8418:function(t,e,c){"use strict";var a=c("a04b"),r=c("9bf2"),s=c("5c6c");t.exports=function(t,e,c){var n=a(e);n in t?r.f(t,n,s(0,c)):t[n]=c}},"99af":function(t,e,c){"use strict";var a=c("23e7"),r=c("d039"),s=c("e8b5"),n=c("861d"),i=c("7b0b"),o=c("50c4"),l=c("8418"),b=c("65f0"),d=c("1dde"),u=c("b622"),h=c("2d00"),j=u("isConcatSpreadable"),p=9007199254740991,O="Maximum allowed index exceeded",f=h>=51||!r((function(){var t=[];return t[j]=!1,t.concat()[0]!==t})),v=d("concat"),m=function(t){if(!n(t))return!1;var e=t[j];return void 0!==e?!!e:s(t)},g=!f||!v;a({target:"Array",proto:!0,forced:g},{concat:function(t){var e,c,a,r,s,n=i(this),d=b(n,0),u=0;for(e=-1,a=arguments.length;e<a;e++)if(s=-1===e?n:arguments[e],m(s)){if(r=o(s.length),u+r>p)throw TypeError(O);for(c=0;c<r;c++,u++)c in s&&l(d,u,s[c])}else{if(u>=p)throw TypeError(O);l(d,u++,s)}return d.length=u,d}})},b0c0:function(t,e,c){var a=c("83ab"),r=c("9bf2").f,s=Function.prototype,n=s.toString,i=/^\s*function ([^ (]*)/,o="name";a&&!(o in s)&&r(s,o,{configurable:!0,get:function(){try{return n.call(this).match(i)[1]}catch(t){return""}}})},dcdc:function(t,e,c){},e8b5:function(t,e,c){var a=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}}}]);
//# sourceMappingURL=chunk-0d8ff9fb.19eaedb0.js.map