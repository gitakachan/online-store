{"version":3,"sources":["webpack:///./src/components/buyer/CenteredHeader.vue","webpack:///./src/components/buyer/CenteredHeader.vue?33bf","webpack:///./src/views/buyer/cart/Cart.vue","webpack:///./src/views/buyer/cart/Cart.vue?6212","webpack:///./src/views/buyer/cart/Cart.vue?ed19"],"names":["class","style","role","aria-valuenow","aria-valuemin","aria-valuemax","title","name","props","type","String","required","render","scope","id","colspan","active","isLoading","to","cartItems","length","item","key","backToProduct","product_id","product","price","toLocaleString","qty","updateCart","min","placeholder","aria-label","aria-describedby","unit","deleteCart","total","tag","inject","components","CenteredHeader","ToastList","data","methods","getCart","this","api","axios","get","then","response","success","carts","final_total","emitter","emit","put","resMsg","delete","$router","push","mounted","__scopeId"],"mappings":"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","file":"js/chunk-a877634e.50263ca4.js","sourcesContent":["<template>\n  <div class=\"header py-4\">\n    <div class=\"position-relative m-4\">\n      <div class=\"progress\" style=\"height: 1px;\">\n        <div\n          class=\"progress-bar\"\n          role=\"progressbar\"\n          style=\"width: 100%;\"\n          aria-valuenow=\"100\"\n          aria-valuemin=\"0\"\n          aria-valuemax=\"100\"\n        ></div>\n      </div>\n      <h1\n        class=\"position-absolute top-0 start-50 bg-white px-3 translate-middle text-nowrap\"\n      >\n        {{ title }}\n      </h1>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"Header\",\n\n  props: {\n    title: {\n      type: String,\n      required: true\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import { render } from \"./CenteredHeader.vue?vue&type=template&id=35aeee84\"\nimport script from \"./CenteredHeader.vue?vue&type=script&lang=js\"\nexport * from \"./CenteredHeader.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <Loading :active=\"isLoading\" />\n    <ToastList />\n    <div class=\"container min-vh-80\">\n      <CenteredHeader :title=\"'購物車'\" />\n      <div class=\"d-flex justify-content-center mt-4\">\n        <div v-show=\"cartItems.length === 0\">\n          <h2 class=\"mb-3\">購物車內尚無任何商品</h2>\n          <router-link\n            class=\"text-decoration-none d-block text-center\"\n            to=\"/store/products\"\n            ><i class=\"bi bi-arrow-up-right\"></i>回去逛逛</router-link\n          >\n        </div>\n        <table\n          v-show=\"cartItems.length !== 0\"\n          class=\"table align-middle table-fit\"\n        >\n          <thead>\n            <tr>\n              <th scope=\"col\">商品</th>\n              <th scope=\"col\">單價</th>\n              <th scope=\"col\">數量</th>\n              <th scope=\"col\">刪除</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in cartItems\" :key=\"item.id\">\n              <td class=\"item-title\" @click=\"backToProduct(item.product_id)\">\n                {{ item.product.title }}\n              </td>\n              <td class=\"num\">{{ item.product.price.toLocaleString() }}</td>\n              <td>\n                <div class=\"input-group\">\n                  <input\n                    v-model=\"item.qty\"\n                    @change=\"updateCart(item.id, item.qty)\"\n                    min=\"1\"\n                    type=\"number\"\n                    class=\"form-control shadow-none num\"\n                    placeholder=\"數量\"\n                    aria-label=\"Username\"\n                    aria-describedby=\"basic-addon1\"\n                  />\n                  <span class=\"input-group-text bg-primary\" id=\"basic-addon1\">{{\n                    item.product.unit\n                  }}</span>\n                </div>\n              </td>\n              <td>\n                <button @click=\"deleteCart(item.id)\" class=\"btn text-danger\">\n                  <i class=\"bi bi-trash\"></i>\n                </button>\n              </td>\n            </tr>\n\n            <tr>\n              <td class=\"no-border\" colspan=\"4\">\n                <h3 class=\"text-end\">\n                  小計：\n                  <span class=\"num\"> NT {{ total.toLocaleString() }} 元</span>\n                </h3>\n              </td>\n            </tr>\n            <tr>\n              <td class=\"no-border\" colspan=\"4\">\n                <div class=\"text-end\">\n                  <router-link\n                    to=\"/store/checkout\"\n                    tag=\"button\"\n                    type=\"button\"\n                    class=\"btn btn-primary\"\n                  >\n                    <i class=\"bi bi-cart-check\"></i> 去結帳\n                  </router-link>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport CenteredHeader from \"@/components/buyer/CenteredHeader.vue\";\nimport ToastList from \"@/components/responseMessages/ToastList.vue\";\n\nexport default {\n  name: \"Cart\",\n  inject: [\"emitter\", \"resMsg\"],\n  components: { CenteredHeader, ToastList },\n  data() {\n    return {\n      cartItems: [],\n      total: 0,\n      isLoading: false,\n    };\n  },\n  methods: {\n    getCart() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.axios.get(api).then((response) => {\n        if (response.data.success) {\n          this.isLoading = false;\n          this.cartItems = response.data.data.carts;\n          this.total = response.data.data.total;\n          this.final_total = response.data.data.final_total;\n\n          // 傳送給navbar icon\n          this.emitter.emit(\"cartLength\", this.cartItems.length);\n        }\n      });\n    },\n    updateCart(id, qty) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.axios\n        .put(api, { data: { product_id: id, qty: qty } })\n        .then((response) => {\n          if (response.data.success) {\n            this.getCart();\n            this.resMsg(response, \"更新\");\n          }\n        });\n    },\n    deleteCart(id) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.axios.delete(api).then((response) => {\n        if (response.data.success) {\n          this.isLoading = false;\n          this.getCart();\n          this.resMsg(response, \"刪除\");\n        }\n      });\n    },\n    backToProduct(id) {\n      this.$router.push(`/store/products/${id}`);\n    },\n  },\n  mounted() {\n    this.getCart();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\ntable.table-fit {\n  width: auto !important;\n  table-layout: auto !important;\n\n  thead th,\n  tfoot th {\n    width: auto !important;\n  }\n  tbody td {\n    width: auto !important;\n    &.no-border {\n      border-bottom: none;\n    }\n    &.item-title {\n      &:hover {\n        cursor: pointer;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./Cart.vue?vue&type=template&id=967a1114&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=967a1114&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-967a1114\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Cart.vue?vue&type=style&index=0&id=967a1114&lang=scss&scoped=true\""],"sourceRoot":""}